---
layout: post
title: Basic Pentesting CTF Write-Up
image: /assets/img/blog/basic/cover.avif
accent_image: 
  background: url('/assets/img/blog/basic/cover.avif') center/cover
  overlay: false
accent_color: '#ccc'
theme_color: '#ccc'
description: >
  Web application hacking and priilege escalation.
invert_sidebar: false
---

# Basic Pentesting CTF Write-Up

Ready for another CTF from TryHackMe?  This is an easy level room that involves brute forcing, hash cracking, service enumeration, and linux enumeration.  

Want to follow along?

<a href="https://tryhackme.com/room/basicpentestingjt">Basic Pentesting</a>

* toc
{:toc}


## What is the name of the hidden directory on the web server(enter name without /)?

First we'll start with an nmap scan to find open some open ports.

<img src="/assets/img/blog/basic/nmap.png">

Our open ports include: 22(SSH), 80(HTTP), 139(NetBIOS), 445(SMB), 8009(AJP13), and 8080(HTTP).  Navigating to the web server shows that the site is undergoing maintenance.  Instead of checking back later...lets take a look at the source code and see what we can find :D

<img src="/assets/img/blog/basic/web.png">

<img src="/assets/img/blog/basic/source.png">

Hmm...there's a comment in the source code pointing us to the "dev note section."  Lets use gobuster to help us locate this section, and find the name of the hidden directory!

<img src="/assets/img/blog/basic/dirb.png">

It appears our hidden directory is /development/.

## What is the username?

Next lets inspect those files and see if they have any more clues for us.

<img src="/assets/img/blog/basic/dev.png">

<img src="/assets/img/blog/basic/j.png">

According to K, J has some weak credentials.  I bet we're going to test this theory out!  I also navigated to the icons directory, but access is currently forbidden.  Since we're still trying to figure out a username, lets do some SMB enumeration.

<img src="/assets/img/blog/basic/smb.png">

And we have some usernames!

## What is the password?

Now that we know our username is "Jan" we can use hydra to brute force the password.

<img src="/assets/img/blog/basic/hydra.png">

And we have our password!  Easy stuff :)

## What service do you use to access the server(answer in abbreviation in all caps)?

We'll be using SSH.

## What is the name of the other user you found(all lower case)?

Well, since our first user was Jan, the only other option would be Kay!

<img src="/assets/img/blog/basic/smb.png">

## What is the final password you obtain?

Lets connect via ssh using Jan's credentials.

<img src="/assets/img/blog/basic/jan.png">

Doing some exploration...not much to see in Jan's directory, but Kay's has a pass.bak file.  Additionally, navigating to the hidden .ssh in kay's directory reveals keys.

<img src="/assets/img/blog/basic/kay.png">

<img src="/assets/img/blog/basic/kay2.png">

I saved that key to a new text file on my attacking machine and used ssh2john to get a hash.

<img src="/assets/img/blog/basic/key.png">

Then I used John the ripper to crack the hash and get a password.

<img src="/assets/img/blog/basic/key2.png">

And to get our final password we'll need to run the following from our jan session and provide our newly found password.  This gives us access to kay.  Cat the pass.bak file and you're good to go :)

<img src="/assets/img/blog/basic/lastpass.png">
